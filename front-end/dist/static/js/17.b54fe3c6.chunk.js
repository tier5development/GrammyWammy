(this.webpackJsonpMefnevan=this.webpackJsonpMefnevan||[]).push([[17],{157:function(e,t,a){"use strict";a.r(t);var s=a(2),o=a(42),c=a.n(o),n=a(43),r=a(34),l=a(35),d=a(38),i=a(37),u=a(0),p=a(10),j=a(41),h=a(49),b=a(60),f=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={autoresponderList:[],loader:!0},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={user_id:localStorage.getItem("kyubi_user_token")};h.a.listAutoResponder(t).then(function(){var t=Object(n.a)(c.a.mark((function t(a){var s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.data.payload.autokey&&e.setState({autoresponderList:a.data.payload.autokey}),s=localStorage.getItem("user_id"),o={user_id:s},t.next=5,b.a.getUserDetails(o).then((function(e){if(1==e.data.code){var t=e.data;console.log(t.payload.UserInfo.user_id),localStorage.setItem("kyubi_user_token",t.payload.UserInfo.kyubi_user_token),localStorage.setItem("user_id",t.payload.UserInfo.user_id),localStorage.setItem("fb_id",t.payload.UserInfo.facebook_id),localStorage.setItem("fb_username",t.payload.UserInfo.facebook_name),localStorage.setItem("fb_name",t.payload.UserInfo.facebook_profile_name),localStorage.setItem("fb_image",t.payload.UserInfo.facebook_image),localStorage.setItem("default_message",t.payload.UserSettings.default_message),localStorage.setItem("default_message_text",t.payload.UserSettings.default_message_text),localStorage.setItem("autoresponder",t.payload.UserSettings.autoresponder),localStorage.setItem("default_time_delay",t.payload.UserSettings.default_time_delay),localStorage.setItem("keywordsTally",JSON.stringify(t.payload.AutoResponderKeywords))}})).catch((function(e){}));case 5:e.setState({loader:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({loader:!1})}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"wrapper",children:[this.state.loader&&Object(s.jsx)("div",{className:"overlay",children:Object(s.jsx)("i",{className:"fas fa-2x fa-sync-alt fa-spin"})}),Object(s.jsx)(j.a,{selectedtab:"setting"}),Object(s.jsxs)("div",{className:"content-wrapper",children:[Object(s.jsx)("section",{className:"content-header",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row mb-12",children:Object(s.jsxs)("div",{className:"col-sm-6",children:[Object(s.jsx)("h1",{children:"Auto-Responder"}),Object(s.jsxs)(p.b,{to:"/autorespondercreate",class:"btn btn-app",children:[Object(s.jsx)("i",{class:"fas fa-plus-square"})," Create New Auto-Responder"]})]})})})}),Object(s.jsx)("section",{className:"content",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row overflow-auto",children:Object(s.jsx)("div",{className:"col-md-12",children:Object.keys(this.state.autoresponderList).length>0?this.state.autoresponderList.map((function(e,t){var a="/autoresponderedit/"+e._id;return Object(s.jsxs)("div",{className:1===e.status?"card card-success shadow-none":"card card-danger shadow-none",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("h3",{className:"card-title",children:e.auto_responder_name}),Object(s.jsx)("div",{className:"card-tools",children:Object(s.jsx)("button",{type:"button",className:"btn btn-tool","data-card-widget":"collapse",children:Object(s.jsx)(p.b,{to:a,children:Object(s.jsx)("i",{className:"far fa-edit"})})})})]}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("div",{className:1===e.status?"callout callout-success":"callout callout-danger",children:[Object(s.jsx)("h6",{children:"Response Message :"}),Object(s.jsx)("p",{children:e.message})]}),Object(s.jsxs)("div",{className:1===e.status?"callout callout-success":"callout callout-danger",children:[Object(s.jsx)("h6",{children:"Keywords :"}),Object(s.jsx)("p",{children:e.autoresponderkeywords.map((function(e,t){return Object(s.jsx)("span",{class:"badge badge-info",children:e.keywords})}))})]})]})]})})):this.state.loader?" ":Object(s.jsxs)("div",{className:"card card-danger shadow-none",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsx)("h3",{className:"card-title",children:"Oops !"}),Object(s.jsx)("div",{className:"card-tools"})]}),Object(s.jsx)("div",{className:"card-body",children:Object(s.jsx)("div",{className:"callout callout-danger",children:Object(s.jsx)("h5",{children:"Sorry There Is No Auto-Responder"})})})]})})})})})]})]})}}]),a}(u.Component);t.default=f},36:function(e,t){e.exports.host="http://localhost:8080",e.exports.kyubi="https://app.kyubi.io/api/end-user",e.exports.kyubiExtensionId="5fe99384ca501909676e1f13"},49:function(e,t,a){"use strict";var s=a(44),o=a.n(s),c=a(36),n={createAutoResponder:function(e){return new Promise((function(t,a){var s={method:"POST",url:c.host+"/api/autoresponder/create",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};o()(s).then((function(e){console.log("In Success"),t(e)})).catch((function(e){console.log("In Error"),a(e)}))}))},listAutoResponder:function(e){return new Promise((function(t,a){var s={method:"POST",url:c.host+"/api/autoresponder/list",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};o()(s).then((function(e){console.log("In Success"),t(e)})).catch((function(e){console.log("In Error"),a(e)}))}))},editAutoResponder:function(e){return new Promise((function(t,a){var s={method:"POST",url:c.host+"/api/autoresponder/edit",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};o()(s).then((function(e){console.log("In Success"),t(e)})).catch((function(e){console.log("In Error"),a(e)}))}))},updateAutoResponder:function(e){return new Promise((function(t,a){var s={method:"POST",url:c.host+"/api/autoresponder/update",headers:{Accept:"application/json","Content-Type":"application/json"},data:e};o()(s).then((function(e){console.log("In Success"),t(e)})).catch((function(e){console.log("In Error"),a(e)}))}))}};t.a=n}}]);