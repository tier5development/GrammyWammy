(this.webpackJsonpMefnevan=this.webpackJsonpMefnevan||[]).push([[18],{155:function(e,t,a){"use strict";a.r(t);var o=a(2),r=a(42),s=a.n(r),c=a(43),n=a(34),l=a(35),i=a(38),d=a(37),f=a(0),u=a(59),b=a(41),g=a(60),m=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).ShowMenu=function(e){e.preventDefault(),o.setState({shownavbar:!0})},o.fbHandler=function(){var e=Object(c.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=localStorage.getItem("fb_logged_id"),console.log("You Are Loged in",a),"false"===a?Object(u.b)():Object(u.c)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.autoresponderHandler=function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("user_id"),0,r={user_id:a,autoresponder:0},e.next=5,g.a.updateAutoresponderSetting(r).then(function(){var e=Object(c.a)(s.a.mark((function e(t){var a,r,c,n,l,i,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({loader:!0}),console.log(t),1==t.data.code&&(a=t.data,console.log(a.payload.UserInfo.user_id),localStorage.setItem("kyubi_user_token",a.payload.UserInfo.kyubi_user_token),localStorage.setItem("user_id",a.payload.UserInfo.user_id),localStorage.setItem("fb_id",a.payload.UserInfo.facebook_id),localStorage.setItem("fb_username",a.payload.UserInfo.facebook_name),localStorage.setItem("fb_name",a.payload.UserInfo.facebook_profile_name),localStorage.setItem("fb_image",a.payload.UserInfo.facebook_image),localStorage.setItem("default_message",a.payload.UserSettings.default_message),localStorage.setItem("default_message_text",a.payload.UserSettings.default_message_text),localStorage.setItem("autoresponder",a.payload.UserSettings.autoresponder),localStorage.setItem("default_time_delay",a.payload.UserSettings.default_time_delay),localStorage.setItem("keywordsTally",JSON.stringify(a.payload.AutoResponderKeywords)),r=localStorage.getItem("fb_image"),c=localStorage.getItem("fb_username"),n=localStorage.getItem("fb_name"),l=localStorage.getItem("fb_id"),i=localStorage.getItem("fb_logged_id"),d=localStorage.getItem("autoresponder"),console.log("Yo Are Loged in",i),o.setState({fb_image:r,fb_username:c,fb_name:n,fb_id:l,fb_logged_id:i,autoresponder:d,loader:!1}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.refreshHandler=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Object(u.a)();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.state={fb_image:"",fb_name:"",fb_username:"",fb_id:"",fb_logged_id:"",autoresponder:"0",shownavbar:!1,loader:!0},o}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout(Object(c.a)(s.a.mark((function t(){var a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("user_id"),o={user_id:a},t.next=4,g.a.getUserDetails(o).then((function(t){if(1==t.data.code){var a=t.data;console.log(a.payload.UserInfo.user_id),localStorage.setItem("kyubi_user_token",a.payload.UserInfo.kyubi_user_token),localStorage.setItem("user_id",a.payload.UserInfo.user_id),localStorage.setItem("fb_id",a.payload.UserInfo.facebook_id),localStorage.setItem("fb_username",a.payload.UserInfo.facebook_name),localStorage.setItem("fb_name",a.payload.UserInfo.facebook_profile_name),localStorage.setItem("fb_image",a.payload.UserInfo.facebook_image),localStorage.setItem("default_message",a.payload.UserSettings.default_message),localStorage.setItem("default_message_text",a.payload.UserSettings.default_message_text),localStorage.setItem("autoresponder",a.payload.UserSettings.autoresponder),localStorage.setItem("default_time_delay",a.payload.UserSettings.default_time_delay),localStorage.setItem("keywordsTally",JSON.stringify(a.payload.AutoResponderKeywords));var o=localStorage.getItem("fb_image"),r=localStorage.getItem("fb_username"),s=localStorage.getItem("fb_name"),c=localStorage.getItem("fb_id"),n=localStorage.getItem("fb_logged_id"),l=localStorage.getItem("autoresponder");console.log("Yo Are Loged in",n),e.setState({fb_image:o,fb_username:r,fb_name:s,fb_id:c,fb_logged_id:n,autoresponder:l,loader:!1})}})).catch((function(t){var a=localStorage.getItem("fb_image"),o=localStorage.getItem("fb_username"),r=localStorage.getItem("fb_name"),s=localStorage.getItem("fb_id"),c=localStorage.getItem("fb_logged_id"),n=localStorage.getItem("autoresponder");console.log("Yo Are Loged in",c),e.setState({fb_image:a,fb_username:o,fb_name:r,fb_id:s,fb_logged_id:c,autoresponder:n,loader:!1})}));case 4:case"end":return t.stop()}}),t)}))),3e3)}},{key:"render",value:function(){return Object(o.jsx)("div",{className:"wrapper",children:this.state.loader?Object(o.jsxs)("div",{className:"overlay",children:[Object(o.jsx)("i",{className:"fas fa-2x fa-sync fa-spin",children:" "}),Object(o.jsx)("p",{className:"text-success lodclass",children:"Loading ........"})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)(b.a,{selectedtab:"dashboard"}),Object(o.jsxs)("div",{className:"content-wrapper",children:[Object(o.jsx)("section",{className:"content-header",children:Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)("div",{className:"row mb-12",children:Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsx)("h1",{children:"Dashboard"})})})})}),Object(o.jsx)("section",{className:"content",children:Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsx)("div",{className:"card card-primary card-outline",children:Object(o.jsxs)("div",{className:"card-body box-profile",children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("img",{className:"profile-user-img img-fluid img-circle",src:this.state.fb_image,alt:"User profile picture"})}),Object(o.jsx)("h3",{className:"profile-username text-center",children:this.state.fb_name}),Object(o.jsx)("p",{className:"text-muted text-center",children:this.state.fb_username}),Object(o.jsxs)("ul",{className:"list-group list-group-unbordered mb-3",children:["true"===this.state.fb_logged_id?"":Object(o.jsx)("li",{className:"list-group-item",children:Object(o.jsx)("div",{className:"card-body",children:Object(o.jsxs)("div",{className:"callout callout-danger",children:[Object(o.jsx)("div",{className:"ribbon-wrapper",children:Object(o.jsx)("div",{className:"ribbon bg-danger",children:"Warning"})}),Object(o.jsx)("h5",{children:"Warning!"}),Object(o.jsx)("p",{children:"Please Log-in to your Facebook   profile and click the refresh button below to proceed further."})]})})}),"1"==this.state.autoresponder?Object(o.jsx)("li",{className:"list-group-item",children:Object(o.jsxs)("a",{onClick:this.autoresponderHandler,className:"btn btn-warning btn-block",children:[Object(o.jsx)("i",{class:"fas fa-pause"})," Pause Autoresponder"]})}):"",Object(o.jsx)("li",{className:"list-group-item",children:Object(o.jsxs)("a",{onClick:this.refreshHandler,className:"btn btn-warning btn-block",children:[Object(o.jsx)("i",{class:"fas fa-sync"})," Refresh"]})})]}),Object(o.jsxs)("a",{onClick:this.fbHandler,className:"btn btn-primary btn-block",children:[Object(o.jsx)("i",{class:"fab fa-facebook-square"}),Object(o.jsx)("b",{children:"true"===this.state.fb_logged_id?" Your Profile":" Facebook"})]})]})})})})})})]})]})})}}]),a}(f.Component);t.default=m},36:function(e,t){e.exports.host="http://localhost:8080",e.exports.kyubi="https://app.kyubi.io/api/end-user",e.exports.kyubiExtensionId="5fe99384ca501909676e1f13"},59:function(e,t,a){"use strict";function o(){try{var e=chrome.tabs.create({url:"https://www.facebook.com",active:!0});return console.log("This is a ",e),e}catch(t){console.log("This is a ",t)}}function r(){try{return chrome.windows.create({url:"https://mbasic.facebook.com",type:"popup",height:1,width:1,focused:!1},(function(e){var t=localStorage.getItem("fbprofile");t=t?t+e.id+",":e.id+",",localStorage.setItem("fbprofile",t)}))}catch(e){console.log("This is a ",e)}}function s(){try{var e="https://www.facebook.com/"+localStorage.getItem("fb_name"),t=chrome.tabs.create({url:e,active:!0});return console.log("This is a ",t),t}catch(a){console.log("This is a ",a)}}a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return s}))}}]);